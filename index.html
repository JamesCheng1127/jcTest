<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title id="pageTitle">毒鸡汤生成器 · Sour Soup Quotes</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" id="pageDescription" content="每日一句毒鸡汤/负能量英文语录，一键切换！">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"PingFang SC",sans-serif;}
    body{display:flex;align-items:center;justify-content:center;min-height:100vh;background:#ffecec;color:#333;padding:20px;}
    .card{max-width:450px;width:100%;padding:40px 30px;background:#fff;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,.08);text-align:center;}
    h1{font-size:24px;margin-bottom:8px;color:#ff4757;}
    #quote{font-size:20px;line-height:1.6;margin:20px 0;min-height:120px;font-weight:500;color:#333;}
    button{cursor:pointer;background:#ff4757;color:#fff;border:none;padding:12px 28px;border-radius:30px;font-size:16px;margin:5px;transition:.3s;}
    button:hover{background:#ff3742;}
    .footer{margin-top:30px;font-size:13px;color:#999;}
    .footer a{color:#ff4757;text-decoration:none;}
    .lang-indicator{font-size:12px;color:#999;margin-top:10px;}
  </style>
</head>
<body>
  <div class="card">
    <h1 id="title">毒鸡汤生成器</h1>
    <p id="quote">点击按钮，收获今日份扎心！</p>

    <button id="generateBtn" onclick="generate()">再来一句</button>
    <button id="langBtn" onclick="toggleLang()">EN/中</button>

    <div class="footer">
      <a id="coffeeLink" href="https://ko-fi.com/yourname" target="_blank">☕ Buy me a coffee</a>
      &nbsp;·&nbsp;
      <a href="javascript:shareIt()" id="shareLink">📢 Share</a>
    </div>
    
    <div class="lang-indicator" id="langIndicator">当前语言：中文</div>
  </div>

  <script>
    /* 语料库：中文 + 英文 */
    const data = {
      zh: [
        "努力不一定成功，但不努力一定很轻松。",
        "世上无难事，只要肯放弃。",
        "假如生活欺骗了你，不要悲伤，打开美颜欺骗生活。",
        "没有人能让你放弃梦想，你自己想想就会放弃了。",
        "比你优秀的人还在努力，那你努力还有什么用？",
        "条条大路通罗马，而有些人就生在罗马。",
        "失败并不可怕，可怕的是你还相信这句话。",
        "你并不是一无所有，你还有病。",
        "有时候你不努力一下，就不知道什么叫绝望。",
        "上帝是公平的，给了你丑的外表，一定也会给你低的智商。"
      ],
      en: [
        "Hard work may not lead to success, but giving up definitely feels easier.",
        "Nothing is impossible — as long as you're willing to quit.",
        "If life cheats you, don't be sad; open a beauty filter and cheat life back.",
        "No one can make you abandon your dreams; you'll drop them yourself after some thought.",
        "If people better than you are still grinding, then what's the point of your grind?",
        "All roads lead to Rome, but some people are born there.",
        "Failure isn't scary; what's scary is that you still believe this quote.",
        "You're not completely broke — you still have your issues.",
        "Sometimes you need to try harder just to realize how hopeless it really is.",
        "God is fair: if you're ugly, He'll also give you a low IQ."
      ]
    };

    // 完整的国际化文本配置
    const i18n = {
      zh: {
        title: '毒鸡汤生成器',
        pageTitle: '毒鸡汤生成器 · Sour Soup Quotes',
        pageDescription: '每日一句毒鸡汤/负能量英文语录，一键切换！',
        generateBtn: '再来一句',
        langBtn: 'EN',
        coffeeLink: '☕ 请我喝咖啡',
        shareLink: '📢 分享',
        langIndicator: '当前语言：中文',
        shareSuccess: '已复制到剪贴板！',
        defaultQuote: '点击按钮，收获今日份扎心！'
      },
      en: {
        title: 'Sour Soup Generator',
        pageTitle: 'Sour Soup Generator · 毒鸡汤生成器',
        pageDescription: 'Daily sour soup quotes and negative energy in English, one-click switch!',
        generateBtn: 'Another One',
        langBtn: '中',
        coffeeLink: '☕ Buy me a coffee',
        shareLink: '📢 Share',
        langIndicator: 'Current Language: English',
        shareSuccess: 'Copied to clipboard!',
        defaultQuote: 'Click the button to get your daily dose of reality!'
      }
    };

    // 从localStorage获取语言设置，默认为中文
    let lang = localStorage.getItem('preferredLanguage') || 'zh';

    /* 首次加载 */
    updateLanguage();
    generate();

    function updateLanguage() {
      // 更新页面标题和描述
      document.getElementById('pageTitle').textContent = i18n[lang].pageTitle;
      document.getElementById('pageDescription').setAttribute('content', i18n[lang].pageDescription);
      
      // 更新页面内容
      document.getElementById('title').textContent = i18n[lang].title;
      document.getElementById('generateBtn').textContent = i18n[lang].generateBtn;
      document.getElementById('langBtn').textContent = i18n[lang].langBtn;
      document.getElementById('coffeeLink').textContent = i18n[lang].coffeeLink;
      document.getElementById('shareLink').textContent = i18n[lang].shareLink;
      document.getElementById('langIndicator').textContent = i18n[lang].langIndicator;
      
      // 更新HTML lang属性
      document.documentElement.lang = lang === 'zh' ? 'zh-CN' : 'en';
      
      // 保存语言设置到localStorage
      localStorage.setItem('preferredLanguage', lang);
    }

    function generate() {
      const list = data[lang];
      const idx = Math.floor(Math.random() * list.length);
      document.getElementById('quote').textContent = list[idx];
    }

    function toggleLang() {
      lang = lang === 'zh' ? 'en' : 'zh';
      updateLanguage();
      generate();  // 切换语言后立刻刷新一句
    }

    function shareIt() {
      const text = document.getElementById('quote').textContent + " ——" + i18n[lang].title;
      if (navigator.share) {
        navigator.share({
          title: i18n[lang].title, 
          text, 
          url: location.href
        });
      } else {
        navigator.clipboard.writeText(text + "\n" + location.href);
        alert(i18n[lang].shareSuccess);
      }
    }

    // 添加键盘快捷键支持
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        generate();
      } else if (e.key === 'l' || e.key === 'L') {
        e.preventDefault();
        toggleLang();
      }
    });
  </script>
</body>
</html>